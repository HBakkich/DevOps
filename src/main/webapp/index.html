<!DOCTYPE html>

<head>
<meta charset="utf-8">
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/topojson.v0.min.js"></script>
  
        <title>D3 Geo-Mapping</title>
</head>
<body>
        
   <script type="text/javascript">

           /* //Creating Dataset
            var dataset = [
                [5, 20], [480, 90], [250, 50], [100, 33], [330, 95],
                [410, 12], [475, 44], [25, 67], [85, 21], [220, 88]
              ];*/
    
            
            var path = d3.geo.path();
            //Creating SVG
            var w = 1000;
            var h = 600;
            var svg = d3.select("body").append("svg").attr("width", w).attr("height", h);
            //Creating circles for each item in the dataset
            /*var circles = svg.selectAll("circle")
                .data(dataset)
                .enter()
                .append("circle");*/
            var feed = 'http://ac32007.cloudapp.net:8080/Circles/Towns/20';
            var xValue = function(d) { return d.lng;},
                yValue = function(d) { return d.lat;},
                popValue = function(d) { return d.Population;};
            
            
            var circles = d3.json(feed, function(json) {
                svg.selectAll("path")
                    .data(json.features)
                    .enter()
                    .append("circle");
            });
            circles.attr("cx", xValue)
                    .attr("cy", yValue)
                    .attr("r", popValue);
            //Creating labels
/*            var labels = svg.selectAll("text")
                .data(feed, function(d) { return d[2]; })
                .enter()
                .append("text");
/*            //Creating scales and setting attributes       
            var xScale = d3.scale.linear()
                .domain([0, d3.max(feed, function(d) { return d[4]; })])
                .range([0, w]);
            var yScale = d3.scale.linear()
                .domain([0, d3.max(feed, function(d) { return d[0]; })])
                .range([0, h]);
*/        
            //Setting circles attributes
            
            
/*        
            //Setting label attributes    
            labels.text(function(d) {return d[0] + "," + d[1];})
                .attr("x", function(d) {return xScale(d[0]);})
                .attr("y", function(d) {return yScale(d[1]);})
                .attr("font-family", "sans-serif")
                .attr("font-size", "11px")
                .attr("fill", "red");
*/
        </script>
    </body>
